<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 174.257 149.814"
    class="loader"
  >
    <defs>
      <filter id="shadow">
        <feDropShadow dx="0" dy="0" stdDeviation="0.5" />
      </filter>
    </defs>
    <path
      d="M125.198 56.416c1.49 0 2.697 1.209 2.697 2.7 0 1.493-1.207 2.702-2.697 2.702 -1.494 0-2.703-1.209-2.703-2.702C122.495 57.625 123.704 56.416 125.198 56.416z"
      class="tassel-cap"
    />
    <path
      d="M124.415 63.865l-3.574 6.184c-0.248 0.433-0.102 0.984 0.332 1.233 0.139 0.079 0.295 0.121 0.451 0.121h7.137c0.5 0.002 0.906-0.399 0.908-0.899 0.002-0.159-0.039-0.316-0.119-0.456l-3.57-6.184c-0.252-0.435-0.803-0.581-1.236-0.331C124.606 63.613 124.493 63.728 124.415 63.865z"
      class="tassel"
    />
    <path
      d="M107.124 49.664c-0.195 6.028-9.074 10.882-20.006 10.882 -10.93 0-19.811-4.858-20.006-10.882 0 0.067 0 0.136 0 0.204v11.523l17.752 7.981c1.432 0.646 3.076 0.646 4.506 0l17.764-7.996V49.868C107.133 49.8 107.124 49.732 107.124 49.664z"
      class="brim-shade"
    />
    <path
      d="M128.411 47.919l-25.445-11.465c0.834-2.219 1.588-4.551 2.232-6.979 3.078-11.563 3.078-22.459 0.541-29.475 -5.678 4.829-11.096 14.288-14.17 25.851 -0.447 1.67-0.828 3.323-1.145 4.96l-1.033-0.486c-1.434-0.646-3.074-0.646-4.51 0l-1.031 0.486c-0.324-1.62-0.703-3.273-1.139-4.96C79.629 14.287 74.219 4.829 68.536 0c-2.537 7.016-2.537 17.913 0.541 29.475 0.645 2.429 1.398 4.761 2.232 6.979L45.844 47.919c-1.072 0.485-1.549 1.749-1.064 2.822 0.213 0.472 0.592 0.852 1.064 1.064l21.281 9.58c0 0 0-11.658 0-11.728 0.182-6.033 9.063-10.891 19.992-10.891 10.932 0 19.811 4.857 20.006 10.877 0 0.067 0 11.727 0 11.727l21.279-9.58c1.066-0.491 1.539-1.757 1.047-2.828C129.241 48.503 128.87 48.133 128.411 47.919z"
      class="brim"
    />
    <ellipse cx="87.118" cy="49.663" rx="20.006" ry="10.877" class="liner" />
    <path
      d="M84.864 69.372l-17.756-7.996V83.15c0-6.121 8.959-11.081 20.01-11.081 11.053 0 20.016 4.959 20.016 11.081V61.391l-17.77 7.981C87.932 70.016 86.293 70.016 84.864 69.372z"
      class="crown"
    />
    <ellipse cx="87.118" cy="83.164" rx="20.01" ry="11.081" class="tip" />
    <path
      d="M39.175 145.702c-1.103 1.313-2.483 2.362-4.045 3.069 -1.585 0.705-3.304 1.061-5.039 1.043 -2.286 0.023-4.541-0.53-6.554-1.613 -1.989-1.071-4.258-2.931-6.81-5.578 -3.063-0.217-6.028-1.179-8.638-2.802 -2.497-1.553-4.549-3.725-5.958-6.305 -2.946-5.604-2.833-12.321 0.299-17.821 1.601-2.709 3.917-4.925 6.694-6.404 6.017-3.078 13.146-3.078 19.162 0 2.772 1.475 5.088 3.678 6.695 6.375 1.652 2.781 2.506 5.964 2.463 9.199 0.026 2.63-0.533 5.234-1.638 7.622 -1.063 2.298-2.624 4.333-4.567 5.957 -1.985 1.656-4.305 2.866-6.799 3.548 0.805 0.903 1.762 1.658 2.826 2.231 0.926 0.462 1.946 0.7 2.98 0.693 2.281 0 4.268-0.927 5.957-2.778L39.175 145.702zM8.1 131.132c1.021 1.835 2.535 3.349 4.37 4.369 3.909 2.083 8.599 2.083 12.508 0 1.833-1.022 3.347-2.535 4.37-4.369 2.117-3.919 2.117-8.641 0-12.56 -1.025-1.832-2.538-3.343-4.37-4.367 -3.907-2.086-8.6-2.086-12.508 0 -1.834 1.022-3.347 2.534-4.37 4.367C5.983 122.492 5.983 127.213 8.1 131.132z"
      class="letter letter--1 q"
    />
    <path
      d="M51.495 142.961c-5.908-0.009-10.695-4.796-10.705-10.702V115.75h5.681v16.509c0.069 2.774 2.376 4.968 5.151 4.897 2.677-0.066 4.832-2.222 4.898-4.897V115.75h5.68v16.509C62.194 138.166 57.405 142.954 51.495 142.961z"
      class="letter letter--2 u"
    />
    <path
      d="M66.323 115.72h6.207v26.508h-6.207V115.72z"
      class="letter letter--3 i"
    />
    <rect
      x="66.323"
      y="105.397"
      width="6.207"
      height="6.206"
      class="dot dot--1"
    />
    <path
      d="M99.528 137.265v4.963H76.653v-3.92l14.545-17.624H76.94v-4.964h22.188v3.921l-14.596 17.624H99.528z"
      class="letter letter--4 z"
    />
    <path
      d="M128.081 105.397v36.831h-5.957v-3.423c-1.01 1.244-2.314 2.216-3.797 2.826 -1.582 0.647-3.277 0.974-4.988 0.956 -2.398 0.037-4.766-0.545-6.875-1.688 -2.016-1.107-3.674-2.766-4.781-4.781 -2.314-4.457-2.314-9.762 0-14.219 1.113-2.007 2.771-3.659 4.781-4.766 2.109-1.144 4.477-1.726 6.875-1.688 1.648-0.02 3.285 0.285 4.816 0.896 1.438 0.583 2.715 1.502 3.723 2.682v-13.623h6.203V105.397zM118.09 136.245c1.199-0.683 2.18-1.688 2.832-2.903 1.391-2.745 1.391-5.988 0-8.733 -0.652-1.215-1.633-2.224-2.832-2.907 -2.508-1.355-5.531-1.355-8.041 0 -1.197 0.685-2.178 1.692-2.83 2.907 -1.387 2.747-1.387 5.987 0 8.733 0.65 1.215 1.633 2.222 2.83 2.903C112.557 137.605 115.583 137.605 118.09 136.245z"
      class="letter letter--5 d"
    />
    <path
      d="M132.192 115.72h6.203v26.508h-6.203V115.72z"
      class="letter letter--6 i"
    />
    <rect
      x="132.192"
      y="105.397"
      width="6.207"
      height="6.206"
      class="dot dot--2"
    />
    <path
      d="M163.928 142.228h-5.674v-16.509c-0.07-2.774-2.377-4.968-5.15-4.897 -2.68 0.066-4.832 2.222-4.9 4.897v16.509h-5.68v-16.509c0-5.91 4.793-10.703 10.703-10.703 5.912 0 10.705 4.792 10.705 10.703L163.928 142.228z"
      class="letter letter--7 n"
    />
    <path
      d="M174.258 142.228h-6.207V115.72h6.207V142.228z"
      class="letter letter--8 i"
    />
    <rect
      x="168.051"
      y="105.394"
      width="6.207"
      height="6.206"
      class="dot dot--3"
    />
  </svg>
</template>

<script>
export default {
  name: "Loader",
};
</script>

<style lang="scss" scoped>
.loader {
  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 200px;
  max-width: 360px;
  width: 80%;
  margin-top: -2rem;
  transform: translate(-50%, -50%);
  overflow: visible;
}

.tassel-cap {
  fill: var(--blue-ryb);
  opacity: 0;
  transform: translate3d(0, 0, 0);
  animation: top-down 250ms cubic-bezier(0.36, 0, 0.66, -0.56) 1100ms forwards,
    fade-in 150ms cubic-bezier(0.5, 0, 0.75, 0) 1100ms forwards;
}

#shadow > feDropShadow {
  flood-color: var(--blue-ryb);
  flood-opacity: 0.75;
}

.tassel {
  position: absolute;
  fill: var(--electric-purple);
  opacity: 0;
  transform-box: fill-box;
  transform-origin: center;
  transform: translate3d(0, 0, 0) rotate(0);
  animation: rotate 300ms cubic-bezier(0.36, 0, 0.66, -0.56) 1300ms infinite
      forwards,
    fade-in 150ms cubic-bezier(0.36, 0, 0.66, -0.56) 1300ms forwards;
}

.brim {
  fill: var(--fluorescent-blue);
  opacity: 0;
  transform: translate3d(0px, 0px, 0px);
  animation: top-down 300ms cubic-bezier(0.36, 0, 0.66, -0.56) 300ms forwards,
    fade-in 150ms cubic-bezier(0.5, 0, 0.75, 0) 300ms forwards;
  overflow: hidden;
}

.brim-shade {
  fill: var(--blue-ryb);
  opacity: 0;
  animation: fade-in 150ms cubic-bezier(0.5, 0, 0.75, 0) 450ms forwards;
}

.liner {
  fill: var(--zaffre);
  opacity: 1;
  paint-order: fill;
  stroke: var(--yellow-crayola);
  stroke: none;
  transform-box: fill-box;
  transform-origin: center;
  stroke-opacity: 0;
  stroke-width: 4;
  stroke-dashoffset: 20;
  stroke-dasharray: 30;
  stroke-linecap: round;
  transform: translate3d(0, 0, 0);
  animation: fade-in-stroke 150ms cubic-bezier(0.5, 0, 0.75, 0) 950ms forwards,
    draw-spinner 900ms linear infinite 1200ms forwards;
}

.crown {
  fill: var(--electric-purple);
  opacity: 0;
  transform: translate3d(0, 0, 0);
  animation: top-down 300ms ease 0ms forwards,
    fade-in 150ms cubic-bezier(0.5, 0, 0.75, 0) 0ms forwards;
}

.tip {
  fill: var(--violet);
  opacity: 0;
  transform: translate3d(0, 0, 0);
  animation: bottom-up 600ms ease 0ms forwards,
    fade-in 150ms cubic-bezier(0.5, 0, 0.75, 0) 0ms forwards;
}

.letter {
  --start-fill-color: var(--white);
  --end-fill-color: var(--violet);
  fill: var(--white);
  transform-box: fill-box;
  transform-origin: center center;
  transform: scale(1, 1) rotateX(0deg);
  animation: fill-text 3s ease-in-out infinite forwards,
    flip 7s linear infinite forwards 1s;
  &--8 {
    animation-delay: 1050ms;
  }
  &--7 {
    animation-delay: 900ms;
  }
  &--6 {
    animation-delay: 750ms;
  }
  &--5 {
    animation-delay: 600ms;
  }
  &--4 {
    animation-delay: 450ms;
  }
  &--3 {
    animation-delay: 300ms;
  }
  &--2 {
    animation-delay: 150ms;
  }
  &--1 {
    animation-delay: 0ms;
  }
}

.dot {
  transform-box: fill-box;
  transform-origin: center center;
  transform: scale(1, 1) rotateX(0deg);
  animation: fill-text 3s ease-in-out infinite forwards,
    flip 7s linear infinite forwards 1s;
  &--3 {
    fill: var(--violet);
    --start-fill-color: var(--electric-purple);
    --end-fill-color: var(--violet);
    animation-delay: 1050ms;
  }
  &--2 {
    --start-fill-color: var(--fluorescent-blue);
    --end-fill-color: var(--violet);
    fill: var(--violet);
    animation-delay: 750ms;
  }
  &--1 {
    --start-fill-color: var(--violet);
    --end-fill-color: var(--violet);
    fill: var(--violet);
    animation-delay: 300ms;
  }
}

@keyframes bottom-up {
  from {
    transform: translate3d(0, 25%, 0);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
}

@keyframes draw-spinner {
  from {
    stroke-dashoffset: 20;
    stroke: var(--yellow-crayola);
  }
  to {
    stroke-dashoffset: 202;
    stroke: var(--yellow-crayola);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fade-in-stroke {
  from {
    stroke-opacity: 0;
  }

  to {
    stroke-opacity: 1;
  }
}

@keyframes fill-text {
  0%,
  50% {
    fill: var(--start-fill-color);
    opacity: 1;
    filter: none;
  }
  to {
    fill: var(--end-fill-color);
    opacity: 0.5;
    filter: url("#shadow");
  }
}

@keyframes flip {
  0% {
    transform: scale(1, 1) rotateX(0deg);
  }
  10% {
    transform: scale(1.03, 1.03) rotateX(360deg);
  }
  to {
    transform: scale(1.03, 1.03) rotateX(360deg);
  }
}

@keyframes rotate {
  0% {
    transform: rotateY(0deg) translate3d(0, 0, 0);
  }

  20% {
    transform: translate3d(0, 10%, 0);
  }

  60% {
    transform: rotateY(720deg);
  }

  100% {
    transform: rotateY(0deg);
  }
}

@keyframes top-down {
  from {
    transform: translate3d(0, -25%, 0);
  }

  to {
    transform: translate3d(0, 0, 0);
  }
}
</style>
