(function(e){function t(t){for(var o,i,s=t[0],c=t[1],l=t[2],u=0,g=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&g.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(g.length)g.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02cd":function(e,t,n){"use strict";n("a19a")},"0c7c":function(e,t,n){},"17b7":function(e,t,n){"use strict";n("f3ff")},"34fa":function(e,t,n){},3843:function(e,t,n){"use strict";n("0c7c")},"46f5":function(e,t,n){"use strict";n("34fa")},"56d7":function(e,t,n){"use strict";n.r(t);n("a79d");var o=n("7a23");function r(e,t,n,r,a,i){const s=Object(o["B"])("router-view");return Object(o["t"])(),Object(o["f"])(s)}var a={name:"App"};n("9299");a.render=r;var i=a,s=n("6c02");const c=Object(o["N"])("data-v-682fd584"),l=c((e,t,n,r,a,i)=>{const s=Object(o["B"])("Loader"),l=Object(o["B"])("Game");return Object(o["t"])(),Object(o["f"])(o["b"],{duration:1e3,mode:"out-in",name:"mt"},{default:c(()=>[r.showLoader?(Object(o["t"])(),Object(o["f"])(s,{key:"1"})):(Object(o["t"])(),Object(o["f"])(l,{key:"2",match:r.match},null,8,["match"]))]),_:1})});var d=n("bc3a"),u=n.n(d);u.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;const g={timeout:3e4},m=async({url:e,config:t=g})=>{console.log("url",e),console.log("config",t);try{const n=await u.a.get(e,t);return{data:n.data}}catch(n){return{error:n.response.data}}},h=async({url:e,data:t,config:n=g})=>{console.log("url",e),console.log(JSON.stringify(t,null,4)),console.log("config",n);try{const o=await u.a.post(e,t,n);return{data:o.data}}catch(o){return{error:o.response.data}}},f="/api/match",b=e=>()=>m({url:`${f}/${e}`});function p({callback:e,immediate:t=!0,deps:n=[]}){const r=Object(o["x"])({data:null,error:null,executions:0,inError:!1,initialized:!1,loading:!1,success:null});return Object(o["I"])(n,()=>{console.log("watch fired!"),r.loading=!0,setTimeout(async()=>{const t=await e(),{data:n=null,error:o=null}=t;return r.data=n,r.error=o,r.executions+=1,r.initialized=!!r.executions,r.loading=!1,n?r.success=!0:o?r.inError=!0:void 0},5e3)},{immediate:t}),{...Object(o["F"])(r)}}var v={board:{debug:!1,timeouts:{throttle:33}},game:{debug:!1,timeouts:{enter:1e3,leave:1e3},themes:{default:{colors:["zaffre"]},rainbow:{colors:["apple","blue","brown","cream","fuchsia","gray","green","light-blue","light-orange","lime","maroon","mauve","navy","olive","orange","pink","purple","red","teal","yellow"]}}},tile:{text:{scaling:{growth:.25,min:1.25,max:3.25}},timeouts:{enter:800,hit:800,leave:800,miss:800,shuffle:600}},timer:{debug:!0,thresholds:{warn:40,alert:20},timeouts:{interval:100,change:250,delay:1500,enter:1e3,leave:1e3}}};n("ddb0");const O={key:"2",class:"match__game"};function j(e,t,n,r,a,i){const s=Object(o["B"])("Splash"),c=Object(o["B"])("Tile"),l=Object(o["B"])("DndBoard"),d=Object(o["B"])("Timer");return Object(o["t"])(),Object(o["f"])(o["b"],{css:!0,duration:1e3,mode:"out-in",name:"mg",onBeforeEnter:i.beforeEnter},{default:Object(o["K"])(()=>[e.showBoard?(Object(o["t"])(),Object(o["f"])("div",O,[Object(o["h"])("button",{onClick:t[1]||(t[1]=Object(o["M"])((...t)=>e.togglePlaying(...t),["prevent"]))},"Toggle Playing"),Object(o["h"])(l,{active:e.canDnd,class:"match__board",config:e.config.board,onDrag:e.onDrag,onOver:e.onOver,onDrop:e.onDrop},{default:Object(o["K"])(()=>[Object(o["h"])(o["c"],{class:i.boardClasses("terms"),css:!0,duration:{enter:""+e.config.tile.timeouts.enter,leave:""+e.config.tile.timeouts.leave},"move-class":e.shuffling?"slide":"no-move-list",name:"terms",tag:"div",style:i.boardStyles("terms"),onAfterLeave:t[2]||(t[2]=e=>i.tileAfterLeave(e,"term"))},{default:Object(o["K"])(()=>[(Object(o["t"])(!0),Object(o["f"])(o["a"],null,Object(o["z"])(e.activeTerms,e=>(Object(o["t"])(),Object(o["f"])(c,{key:e.id,id:e.id,content:e.content,style:[e.style],active:e.dragging,disabled:!1,color:e.color,dragging:e.dragging,hasHtml:e.hasHtml,hit:e.hit,length:e.length,maxWordLength:e.maxWordLength,miss:e.miss,over:e.over,is:"Draggable",type:"term"},null,8,["id","content","style","active","color","dragging","hasHtml","hit","length","maxWordLength","miss","over"]))),128))]),_:1},8,["class","duration","move-class","style"]),Object(o["h"])(o["c"],{class:i.boardClasses("definitions"),css:!0,duration:{enter:""+e.config.tile.timeouts.enter,leave:""+e.config.tile.timeouts.leave},"move-class":e.shuffling?"slide":"no-move-list",name:"definitions",tag:"div",style:i.boardStyles("definitions"),onAfterLeave:t[3]||(t[3]=e=>i.tileAfterLeave(e,"definition"))},{default:Object(o["K"])(()=>[(Object(o["t"])(!0),Object(o["f"])(o["a"],null,Object(o["z"])(e.activeDefinitions,e=>(Object(o["t"])(),Object(o["f"])(c,{key:e.id,id:e.id,content:e.content,style:[e.style],active:!1,disabled:!1,hasHtml:e.hasHtml,hit:e.hit,length:e.length,maxWordLength:e.maxWordLength,miss:e.miss,over:e.over,is:"Droppable",type:"definition"},null,8,["id","content","style","hasHtml","hit","length","maxWordLength","miss","over"]))),128))]),_:1},8,["class","duration","move-class","style"])]),_:1},8,["active","config","onDrag","onOver","onDrop"]),Object(o["h"])(d,{onTimerExpired:e.gameOver,class:"match__timer",active:e.playing,config:e.config.timer,duration:e.duration,score:e.score},null,8,["onTimerExpired","active","config","duration","score"])])):(Object(o["t"])(),Object(o["f"])(s,{key:"1",onStart:e.startGame},null,8,["onStart"]))]),_:1},8,["onBeforeEnter"])}n("13d5"),n("5319");var y=n("8dee"),x=n.n(y);function w(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function S(e,t,n="id"){return Object.prototype.hasOwnProperty.call(t,n)?e.map(e=>e[n]!==t[n]?e:{...e,...t}):e}function _(e,t,n="id",o){if(!Object.prototype.hasOwnProperty.call(t,n))return e;const r=e.find(e=>e[n]===t[n]),a=o?o(r):t;return r?e.map(e=>e[n]!==a[n]?e:{...e,...a}):e.concat(a)}function I(e,t){const n=Object(o["j"])();let r=null;function a(){i(),r=setTimeout(()=>t(),Object(o["G"])(e))}function i(){clearTimeout(r)}return n?Object(o["s"])(()=>{console.log("cleaning up!"),r&&i()}):console.log("not in current instance"),[i,a]}const L="/api/ping",B=e=>h({url:""+L,data:e});function C(e,t=!0){const[,n]=I(v.tile.timeouts.hit,()=>{a.terms=a.terms.map(e=>e.matched&&e.show?{...e,show:!1}:e),a.definitions=a.definitions.map(e=>e.matched&&e.show?{...e,show:!1}:e)}),[,r]=I(v.tile.timeouts.shuffle,()=>{a.shuffling=!1}),a=Object(o["x"])({activeDefinitions:Object(o["d"])(()=>a.definitions.filter(e=>e.show)),activeTerms:Object(o["d"])(()=>a.terms.filter(e=>e.show)),canDnd:Object(o["d"])(()=>a.playing&&!a.shuffling&&!a.termIsExiting),correct:0,colorScheme:"",definitions:[],duration:60,exited:Object(o["d"])(()=>a.terms.reduce((e,t)=>t.exited?e+=1:e,0)),incorrect:0,itemsPerBoard:9,matches:[],matchId:"",playing:!1,score:0,showBoard:!1,showSplash:!1,shuffling:!1,stats:[],termIsExiting:Object(o["d"])(()=>!!a.terms.filter(e=>e.matched&&!e.exited).length),terms:[],textScaling:{terms:1,definitions:1},title:""});function i(e){const t=(e,t)=>{const n=/<[^>]*>/gi,o=e.parseFromString("<!DOCTYPE html><body>"+t.replace(n,""),"text/html");return o.body.textContent},n=new DOMParser;return e.map(e=>{const o=t(n,e.term),r=t(n,e.definition);return{term:{answer:e.definition,content:e.term,dragging:!1,exited:!1,hasHtml:o.length!==e.term.length,hit:!1,id:x.a.generate(),length:o.length,matched:!1,matchId:"",maxWordLength:o.split(" ").reduce((e,t)=>e>t.length?e:t.length,0),miss:!1,over:!1,show:!0},definition:{content:e.definition,exited:!1,hasHtml:r.length!==e.definition.length,hit:!1,id:x.a.generate(),length:r.length,matched:!1,matchId:"",maxWordLength:r.split(" ").reduce((e,t)=>e>t.length?e:t.length,0),miss:!1,over:!1,show:!0}}})}function s(e=[],t=""){const{[t.toLowerCase()]:n=""}=v.game.themes;if(!n)return e.map(e=>({...e,color:v.game.themes.default.colors[0]}));let o=w(n.colors.slice());return e.map(e=>{const t=o.pop();return{...e,color:t}})}function c(e,t,n){return{transform:"translate3d("+e+"px, "+t+"px, "+n+"px)"}}function l(e,t,n,o,r,a,i){return{"--hit-start-tx":e+"px","--hit-start-ty":t+"px","--hit-start-tz":n+"px","--hit-end-tx":o+"px","--hit-end-ty":r+"px","--hit-end-tz":a+"px","--hit-duration":i+"ms"}}function d(e,t){const{answer:n}=a.terms.find(t=>t.id===e)||{},{content:o}=a.definitions.find(e=>e.id===t)||{};return!!n&&!!o&&n===o}function u(e){const{dragId:t,dragX:n,dragY:o}=e||{};a.terms=S(a.terms,{id:t,dragging:!0,hit:!1,miss:!1,style:c(n,o,1)})}function g(e){const{dragId:t,dropId:n,over:o}=e||{};a.terms=a.terms.map(e=>({...e,over:e.id===t&&o})),a.definitions=a.definitions.map(e=>({...e,over:e.id===n}))}function m(e){const{dragId:t,dragX:o,dragY:r,dropId:i,dropX:s,dropY:u}=e||{},g=!!i&&d(t,i);if(a.terms=S(a.terms,{id:t,dragging:!1,hit:g,miss:!g,matched:g,matchId:g?i:"",over:g,style:g?l(o,r,1,s,u,1,v.tile.timeouts.hit):c(0,0,0)}),!i)return;g?a.correct++:a.incorrect++,a.definitions=S(a.definitions,{id:i,hit:g,miss:!g,matched:g,matchId:g?t:"",over:g});const{content:m}=a.terms.find(e=>e.id===t)||{};a.score=Math.max(g?a.score+1:a.score-1,0),a.stats=_(a.stats,{term:m},"term",e=>e?{term:m,hit:g?e.hit+1:e.hit,miss:g?e.miss:e.miss+1}:{term:m,hit:g?1:0,miss:g?0:1}),g&&n()}function h(e,t){switch(t){case"term":a.terms=S(a.terms,{id:e,exited:!0});break;case"definition":a.definitions=S(a.definitions,{id:e,exited:!0});break;default:return}}function f(e){const n=e.reduce((e,t)=>[e[0]>t.term.maxWordLength?e[0]:t.term.maxWordLength,e[1]>t.term.length?e[1]:t.term.length,e[2]>t.definition.maxWordLength?e[2]:t.definition.maxWordLength,e[3]>t.definition.length?e[3]:t.definition.length],[]);t&&console.log(JSON.stringify(n,null,4));const{growth:o,min:r,max:i}=v.tile.text.scaling||{};a.textScaling={terms:(i*Math.pow(o,o*Math.max(n[0],n[1]/2.5))+r).toFixed(2),definitions:(i*Math.pow(o,o*Math.max(n[2],n[3]/2.5))+r).toFixed(2)},t&&console.log(JSON.stringify(a.textScaling,null,4))}function b(){console.log("dealing..."),a.matches=w(a.matches);const e=a.matches.slice(0,Math.min(a.itemsPerBoard,a.matches.length));f(e),a.terms=s(e.map(e=>e.term),a.colorScheme),a.definitions=w(e.map(e=>e.definition))}function p(){console.log("shuffling..."),a.shuffling=!0,a.terms=w(a.terms),a.definitions=w(a.definitions),r()}function O(){a.correct=0,a.definitions=[],a.incorrect=0,a.playing=!1,a.score=0,a.showBoard=!1,a.stats=[],a.terms=[],b(),Object(o["n"])(()=>{p(),a.playing=!0,a.showBoard=!0})}async function j(){console.log("game over..."),a.playing=!1,a.showBoard=!1,a.terms=[],a.definitions=[];const e=await B({correct:a.correct,data:a.stats,gameId:a.matchId,gameType:"M",incorrect:a.incorrect,score:a.score});t&&JSON.stringify(e.data,null,4)}function y(){console.log("toggle playing fired!"),a.playing=!a.playing}return Object(o["J"])(()=>{const{matchId:t,matches:n=[],options:{duration:r=60,colorScheme:s="",itemsPerBoard:c=9}={},title:l=""}=Object(o["G"])(e);a.colorScheme=s.toLowerCase(),a.duration=20,a.matchId=t,a.itemsPerBoard=c,a.matches=i(n),a.title=l}),Object(o["I"])(()=>a.exited,(e,n)=>{t&&console.log("exited changed: ",JSON.stringify(n),"=>",JSON.stringify(e)),e<=n||(e===a.itemsPerBoard?(b(),Object(o["n"])(()=>p())):p())}),{config:v,...Object(o["F"])(a),deal:b,gameOver:j,onDrag:u,onDrop:m,onOver:g,onTileLeft:h,shuffle:p,startGame:O,togglePlaying:y}}const T=Object(o["N"])("data-v-c03d63c2"),D=T((e,t,n,r,a,i)=>(Object(o["t"])(),Object(o["f"])("div",{class:i.classes,ref:"dndRef"},[Object(o["A"])(e.$slots,"default")],2)));var M=n("2ef0"),E=n.n(M);function P({active:e,element:t,throttleMs:n=33,debug:r=!1,emit:a}){const i=Object(o["x"])({dragged:{},listeners:[],throttledDrag:Object(o["d"])(()=>E.a.throttle(m,n,{trailing:!0}))}),s={mousedown:g,mousemove:i.throttledDrag,mouseup:h,touchstart:g,touchmove:i.throttledDrag,touchend:h};function c(e){e.forEach(n=>{r&&console.log(`adding ${n}...`),t.value.addEventListener(n,s[n]),i.listeners=i.listeners.concat(e).filter((e,t,n)=>n.indexOf(e)===t)})}function l(e){e.forEach(n=>{r&&console.log(`removing ${n}...`),t.value.removeEventListener(n,s[n]),i.listeners=i.listeners.filter(t=>e.indexOf(t)<0)})}function d(){c(["mousedown","touchstart"])}function u(){i.dragged={},l(i.listeners)}function g(e){e.stopPropagation(),r&&console.log((i.dragged.id?`${e.type} (${i.dragged.id}) `:""+e.type)+"...");const t=e.target.classList.contains("draggable")?e.target:e.target.closest(".draggable");if(!t)return;const n="touchstart"===e.type?e.touches[0].clientX:e.clientX,o="touchstart"===e.type?e.touches[0].clientY:e.clientY,{top:a,left:s}=t.getBoundingClientRect();i.dragged={id:t.id,offsetX:n-s,offsetY:o-a,initialX:n,initialY:o};const l="touchstart"===e.type?["touchmove","touchend"]:["mousemove","mouseup"];c(l)}function m(e){e.stopPropagation();const{id:t,initialX:n,initialY:o,overId:s}=i.dragged;r&&console.log((t?`${e.type} (${t}) `:""+e.type)+"...");const c="touchmove"===e.type?e.touches[0].clientX-n:e.clientX-n,l="touchmove"===e.type?e.touches[0].clientY-o:e.clientY-o;a("drag",{dragId:t,dragX:c,dragY:l});const{id:d=""}=document.elementsFromPoint("touchmove"===e.type?e.touches[0].clientX:e.clientX,"touchmove"===e.type?e.touches[0].clientY:e.clientY).find(e=>e.classList.contains("droppable"))||{};s!==d&&(r&&d&&console.log(`${t} is over ${d}...`),a("over",{dragId:t,dropId:d,over:!!d}),i.dragged={...i.dragged,overId:d})}function h(e){e.stopPropagation(),i.throttledDrag.cancel();const{id:t,initialX:n,initialY:o,offsetX:s,offsetY:c}=i.dragged;r&&console.log((t?`${e.type} (${t}) `:""+e.type)+"...");const d="touchend"===e.type?e.changedTouches[0].clientX:e.clientX,u="touchend"===e.type?e.changedTouches[0].clientY:e.clientY,g=document.elementsFromPoint(d,u).find(e=>e.classList.contains("droppable")),{top:m,left:h}=g&&g.getBoundingClientRect()||{};a("drop",{dragId:t,dragX:g?d-n:d,dragY:g?u-o:u,dropId:g?g.id:null,dropX:g?Math.round(h-n+s):null,dropY:g?Math.round(m-o+c):null}),i.dragged={};const f="touchend"===e.type?["touchmove","touchend"]:["mousemove","mouseup"];l(f)}return Object(o["r"])(()=>{r&&console.log(`dnd mounted (${Object(o["G"])(e)?"active":"inactive"})...`),Object(o["G"])(e.value)&&c(["mousedown","touchstart"])}),Object(o["I"])(e,(e,t)=>(r&&console.log("active changed: ",t,"=>",e),e&&!t?d():u())),{...Object(o["F"])(i)}}var k={name:"DndBoard",props:["active","config"],setup(e,{emit:t}){const n=Object(o["y"])(null),{active:r}=Object(o["F"])(e);return{...e.config,...P({active:r,element:n,throttleMs:e.config.timeouts.throttle,debug:e.config.debug,emit:t}),dndRef:n}},computed:{classes(){return{"dnd-board":!0,"dnd-board--active":this.active}}}};n("02cd");k.render=D,k.__scopeId="data-v-c03d63c2";var A=k;function $(e,t,n,r,a,i){return Object(o["t"])(),Object(o["f"])("div",null,[Object(o["h"])("button",{onClick:t[1]||(t[1]=Object(o["M"])((...e)=>i.onClickStart(...e),["prevent"]))},"Start Game")])}var q={name:"Splash",methods:{onClickStart(){this.$emit("start")}}};q.render=$;var N=q;function Y(e,t,n,r,a,i){return Object(o["t"])(),Object(o["f"])(Object(o["C"])(n.is),{active:n.active,class:i.tileClasses,disabled:n.disabled,id:n.id,style:n.style},{default:Object(o["K"])(()=>[Object(o["h"])("div",{class:i.bodyClasses,"data-has-html":n.hasHtml,"data-length":n.length,"data-max-word-length":n.maxWordLength,innerHTML:n.content},null,10,["data-has-html","data-length","data-max-word-length","innerHTML"])]),_:1},8,["active","class","disabled","id","style"])}const G=Object(o["N"])("data-v-02fd6379"),W=G((e,t,n,r,a,i)=>(Object(o["t"])(),Object(o["f"])("div",{id:n.id,class:i.classes},[Object(o["A"])(e.$slots,"default")],10,["id"])));var X={name:"Draggable",props:{active:{type:Boolean,required:!0,default:!1},disabled:{type:Boolean,required:!0,default:!1},id:{type:String,required:!1}},computed:{classes(){return{draggable:!0,"draggable--active":this.active,"draggable--disabled":this.disabled}}}};n("ef2c");X.render=W,X.__scopeId="data-v-02fd6379";var F=X;const z=Object(o["N"])("data-v-da15d764"),H=z((e,t,n,r,a,i)=>(Object(o["t"])(),Object(o["f"])("div",{id:n.id,class:i.classes},[Object(o["A"])(e.$slots,"default")],10,["id"])));var R={name:"Droppable",props:{active:{type:Boolean,required:!0,default:!1},disabled:{type:Boolean,required:!0,default:!1},id:{type:String,required:!1}},computed:{classes(){return{droppable:!0,"droppable--active":this.active,"droppable--disabled":this.disabled}}}};n("d203");R.render=H,R.__scopeId="data-v-da15d764";var J=R,U={name:"Tile",components:{Draggable:F,Droppable:J},props:{active:{type:Boolean,required:!0,default:!1},color:{type:String,required:!1},content:{type:String,required:!1},disabled:{type:Boolean,required:!0,default:!1},dragging:{type:Boolean,required:!1},hasHtml:{type:Boolean,required:!1},hit:{type:Boolean,required:!1},id:{required:!1},is:{type:String,required:!0},length:{type:Number,required:!1},maxWordLength:{type:Number,required:!1},miss:{type:Boolean,required:!1},over:{type:Boolean,required:!1},style:{required:!1},type:{type:String,required:!1}},computed:{bodyClasses(){return{tile__body:!0,["tile__body--has-long-word"]:this.maxWordLength>=11}},tileClasses(){return{tile:!0,["tile--"+this.type]:this.type,[this.color]:this.color,hit:this.hit,miss:this.miss,drag:this.dragging,over:this.over}}}};U.render=Y;var K=U;const Z=Object(o["N"])("data-v-30e190da");Object(o["w"])("data-v-30e190da");const V={class:"timer"},Q={class:"timer__wrapper"},ee={class:"timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},te={class:"timer__circle"};Object(o["u"])();const ne=Z((e,t,n,r,a,i)=>(Object(o["t"])(),Object(o["f"])(o["b"],Object(o["m"])({duration:{enter:""+e.timeouts.enter,leave:""+e.timeouts.leave},name:"timer",onBeforeEnter:i.beforeEnter,onAfterEnter:i.afterEnter,onAfterLeave:i.afterLeave,onAfterAppear:i.afterAppear},e.$attrs),{default:Z(()=>[Object(o["L"])(Object(o["h"])("div",null,[Object(o["h"])("div",V,[Object(o["h"])(o["b"],{duration:{enter:""+e.timeouts.change,leave:""+e.timeouts.change},name:"scoring",onAfterLeave:e.endScoreChange},{default:Z(()=>[Object(o["L"])(Object(o["h"])("div",Q,[(Object(o["t"])(),Object(o["f"])("svg",ee,[Object(o["h"])("g",te,[Object(o["h"])("circle",{class:["timer__path-elapsed",i.scoreClass],cx:"50",cy:"50",r:"45"},null,2),Object(o["h"])("path",{"stroke-dasharray":i.strokeDasharray,class:["timer__path-remaining",[e.severity,i.scoreClass]],d:"M 50, 50\n            m -45, 0\n            a 45,45 0 1,0 90,0\n            a 45,45 0 1,0 -90,0\n          "},null,10,["stroke-dasharray"])])])),Object(o["h"])("span",{class:["timer__label",i.scoreClass]},Object(o["E"])(n.score||e.formatted),3)],512),[[o["H"],!e.scoring]])]),_:1},8,["duration","onAfterLeave"])])],512),[[o["H"],!e.expired]])]),_:1},16,["duration","onBeforeEnter","onAfterEnter","onAfterLeave","onAfterAppear"]))),oe={ALERT:"alert",WARN:"warn",SUCCESS:"success"},re={UP:"up",DOWN:"down"};function ae({active:e=!1,alert:t,autoStart:n=!0,debug:r=!1,delay:a=5e3,duration:i,emit:s,interval:c,score:l,warn:d}){const[,u]=I(Object(o["G"])(a),(function(){r&&console.log("starting timer after Delay..."),g.intervalId=setInterval(()=>{g.elapsed+=Object(o["G"])(c)},Object(o["G"])(c))})),g=Object(o["x"])({elapsed:0,expired:Object(o["d"])(()=>g.remaining<=0),formatted:Object(o["d"])(()=>{const e=Math.floor(g.remaining/6e4),t=Math.floor(g.remaining%6e4/1e3);return t<10?`${e}:0${t}`:`${e}:${t}`}),idle:Object(o["d"])(()=>g.elapsed),intervalId:null,progress:Object(o["d"])(()=>Math.round(g.remaining/(1e3*Object(o["G"])(i))*1e4)/100),remaining:Object(o["d"])(()=>1e3*Object(o["G"])(i)-g.elapsed),running:!1,scoring:!1,scoringStatus:"",SCORING_STATUS:re,severity:Object(o["d"])(()=>g.progress<=d?g.progress<=t?oe.ALERT:oe.WARN:oe.SUCCESS)});function m(){b(),g.running=!0,g.remaining||(g.elapsed=0),u()}function h(e){g.elapsed=e}function f(){r&&console.log("timer scoring end..."),g.scoring=!1,g.scoringStatus=""}function b(){r&&console.log("stopping timer..."),g.running=!1,g.intervalId&&(clearInterval(g.intervalId),g.intervalId=null)}return Object(o["I"])(e,(e,t)=>{!e||t||g.running||m(),!e&&g.running&&(console.log("pause timer here"),b())}),Object(o["I"])(l,(e,t)=>{r&&console.log("score changed: ",t,"=>",e),g.scoring=!0,g.scoringStatus=e>t?re.UP:re.DOWN}),Object(o["I"])(()=>g.expired,(e,t)=>{e&&!t&&(r&&console.log("timer expired: ",t,"=>",e),b(),s("timer-expired"))}),Object(o["r"])(()=>{r&&console.log("timer mounted..."),Object(o["G"])(n)&&Object(o["G"])(e)&&m()}),Object(o["p"])(()=>{r&&console.log("timer cleaning up..."),b()}),{...Object(o["F"])(g),startTimer:m,stopTimer:b,setElapsed:h,endScoreChange:f}}const ie=283;var se={inheritAttrs:!1,name:"Timer",props:["active","config","duration","score"],setup(e,{emit:t}){const{active:n,duration:r,playing:a,score:i}=Object(o["F"])(e),s=ae({active:n,alert:e.config.thresholds.alert,autoStart:!0,debug:e.config.debug,delay:e.config.timeouts.delay,duration:r,emit:t,interval:e.config.timeouts.interval,playing:a,score:i,warn:e.config.thresholds.warn});return{...s,...e.config}},computed:{scoreClass(){return this.scoring?this.scoringStatus===this.SCORING_STATUS.UP?"hit":"miss":""},strokeDasharray(){const e=this.progress/100-1/this.duration*(1-this.progress/100);return`${(e*ie).toFixed(0)} ${ie}`}},methods:{beforeEnter(){this.debug&&console.log("before timer entered...")},afterEnter(){console.log("after enter in Timer fired..."),this.debug&&console.log("timer entered...")},afterAppear(){console.log("after appear fired...")},afterLeave(){this.debug&&console.log("timer left...")}},onMounted(){console.log("Timer has mounted...")}};n("17b7");se.render=ne,se.__scopeId="data-v-30e190da";var ce=se,le={name:"Game",components:{DndBoard:A,Splash:N,Tile:K,Timer:ce},props:["match"],setup(e){const{match:t}=Object(o["F"])(e);return console.log(typeof t),{...C(t)}},methods:{beforeEnter(){this.debug&&console.log("game transition before entered...")},boardClasses(e){return{"tile-board":!0,["tile-board--"+e]:e,["tile-board--"+this.itemsPerBoard]:this.itemsPerBoard,["tile-board--"+this.colorScheme]:this.colorScheme,"tile-board--disabled":!this.playing}},boardStyles(e){return{...this.textScaling[e]&&{"--text-scale-factor":""+this.textScaling[e]}}},tileAfterLeave(e,t){this.config.game.debug&&console.log(`${t} (${e.id}) leaving...`),this.playing&&this.onTileLeft(e.id,t)}}};n("46f5");le.render=j;var de=le;const ue=Object(o["N"])("data-v-4e0eb0b4");Object(o["w"])("data-v-4e0eb0b4");const ge={class:"page page--loader page--full"},me=Object(o["h"])("button",{class:"btn btn-refresh",title:"Crude page reload"},"Replay",-1),he=Object(o["h"])("section",{class:"loader"},[Object(o["h"])("svg",{class:"loader__logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 475 475"},[Object(o["h"])("circle",{class:"badge",style:{"paint-order":"stroke fill markers"},cx:"237.5",cy:"237.5",r:"237.5"}),Object(o["h"])("path",{class:"tassel-cap",d:"M405.4 286.9c0 6.1-5 11.1-11.1 11.1 -6.1 0-11.1-5-11.1-11.1s5-11.1 11.1-11.1C400.4 275.8 405.4 280.7 405.4 286.9"}),Object(o["h"])("path",{class:"tassel",d:"M391 306.4l-14.7 25.5c-1.4 2.5 0.4 5.6 3.2 5.6h29.4c2.9 0 4.7-3.1 3.2-5.6l-14.7-25.5C396 304 392.5 304 391 306.4"}),Object(o["h"])("path",{class:"brim",d:"M407.5 240.8l-104.8-47.2c3.4-9.1 6.5-18.7 9.2-28.7 12.7-47.6 12.7-92.5 2.2-121.3 -23.4 19.9-45.7 58.8-58.3 106.4 -1.8 6.9-3.4 13.7-4.7 20.4l-4.2-1.9c-5.9-2.7-12.7-2.7-18.6 0l-4.2 1.9c-1.3-6.7-2.9-13.5-4.7-20.4 -12.7-47.6-35-86.5-58.3-106.4 -10.4 28.9-10.4 73.7 2.2 121.3 2.7 10 5.8 19.6 9.2 28.7l-104.8 47.2c-6.9 3.1-6.9 12.9 0 16l87.6 39.4c0 0 0-48 0-48.3 0.8-24.8 37.4-44.8 82.4-44.8 45 0 81.6 20 82.4 44.8 0 0.3 0 48.3 0 48.3l87.6-39.4C414.4 253.7 414.4 243.9 407.5 240.8"}),Object(o["h"])("path",{class:"brim-shade",d:"M319.9 248c-0.8 24.8-37.3 44.8-82.3 44.8 -45 0-81.5-20-82.3-44.8 0 0.3 0 0.6 0 0.8v47.5l73.1 32.9c5.9 2.7 12.7 2.7 18.6 0l73.1-32.9V248.8C319.9 248.5 319.9 248.3 319.9 248"}),Object(o["h"])("path",{class:"liner",d:"M237.5 203.2c-45 0-81.5 20-82.3 44.8 0.8 24.8 37.4 44.8 82.4 44.8s81.6-20 82.4-44.8C319.1 223.2 282.5 203.2 237.5 203.2"}),Object(o["h"])("path",{class:"crown",d:"M228.2 329.2l-73.1-32.9v89.6c0-25.2 36.9-45.6 82.4-45.6s82.4 20.4 82.4 45.6v-89.6l-73.1 32.9C240.9 331.8 234.1 331.8 228.2 329.2"}),Object(o["h"])("path",{class:"tip",d:"M319.9 385.9c0 25.2-36.9 45.6-82.4 45.6 -45.5 0-82.4-20.4-82.4-45.6s36.9-45.6 82.4-45.6C283 340.3 319.9 360.7 319.9 385.9"})]),Object(o["h"])("div",{class:"loader__label"},"Loading...")],-1);Object(o["u"])();const fe=ue((e,t,n,r,a,i)=>(Object(o["t"])(),Object(o["f"])("div",ge,[me,he])));var be={name:"Loader"};n("b221");be.render=fe,be.__scopeId="data-v-4e0eb0b4";var pe=be,ve={name:"Match",components:{Game:de,Loader:pe},computed:{matchId(){const{matchId:e=null}=this.match||{};return e}},setup(){const e=Object(o["y"])(""),t=Object(s["c"])(),{data:n,error:r,inError:a,initialized:i,loading:c,success:l}=p({callback:b(t.params.id),immediate:!0,deps:[()=>t.params]});return{x:e,match:n,showLoader:c}}};n("bf3c");ve.render=l,ve.__scopeId="data-v-682fd584";var Oe=ve;const je=Object(o["N"])("data-v-6c3a223a");Object(o["w"])("data-v-6c3a223a");const ye={class:"p-4"};Object(o["u"])();const xe=je((e,t,n,r,a,i)=>{const s=Object(o["B"])("router-link");return Object(o["t"])(),Object(o["f"])("div",ye,[Object(o["h"])("ul",null,[(Object(o["t"])(!0),Object(o["f"])(o["a"],null,Object(o["z"])(a.games,e=>(Object(o["t"])(),Object(o["f"])("li",{key:e.id},[Object(o["h"])(s,{class:"game-link game-link--match",to:{name:"match",params:{id:e.id}}},{default:je(()=>[Object(o["g"])(Object(o["E"])(e.title),1)]),_:2},1032,["to"])]))),128))])])});u.a.defaults.headers.get["Content-Type"]="application/json",u.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var we={name:"Matches",data(){return{games:[]}},methods:{async fetchData(){try{const e=await u.a.get("/api/matches",{timeout:3e4});return e.data}catch(e){console.log(e)}}},async created(){const e=await this.fetchData(),t=e.map(e=>({id:e.matchId,title:e.title}));this.games=t}};n("3843");we.render=xe,we.__scopeId="data-v-6c3a223a";var Se=we;const _e=[{path:"/",name:"matches",component:Se,props:!1},{path:"/match/:id",name:"match",component:Oe,props:!1}],Ie=Object(s["a"])({history:Object(s["b"])(),routes:_e});var Le=Ie;Object(o["e"])(i).use(Le).mount("#quizdini")},9299:function(e,t,n){"use strict";n("bdfb")},a19a:function(e,t,n){},a7a8:function(e,t,n){},b221:function(e,t,n){"use strict";n("a7a8")},bdfb:function(e,t,n){},bf3c:function(e,t,n){"use strict";n("f681")},cb08:function(e,t,n){},d203:function(e,t,n){"use strict";n("faed")},ef2c:function(e,t,n){"use strict";n("cb08")},f3ff:function(e,t,n){},f681:function(e,t,n){},faed:function(e,t,n){}});
//# sourceMappingURL=app.d88b7ca7.js.map