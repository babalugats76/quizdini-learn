(function(t){function e(e){for(var r,o,c=e[0],s=e[1],u=e[2],l=0,f=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},i={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"016d":function(t,e,n){},"0678":function(t,e,n){"use strict";n("016d")},"0ec2":function(t,e,n){},"17c0":function(t,e,n){},"1c66":function(t,e,n){"use strict";n("3f69")},2089:function(t,e,n){"use strict";n("70f3")},"253b":function(t,e,n){},3886:function(t,e,n){"use strict";n("253b")},"398a":function(t,e,n){},"3f69":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function i(t,e,n,i,a,o){var c=Object(r["A"])("router-view");return Object(r["s"])(),Object(r["f"])(c)}var a={name:"App"};n("9cdc");a.render=i;var o=a,c=n("6c02"),s=Object(r["J"])("data-v-590807fc");Object(r["v"])("data-v-590807fc");var u={class:"match-game"},d={class:"match-timer"};Object(r["t"])();var l=s((function(t,e,n,i,a,o){var c=Object(r["A"])("Timer");return Object(r["s"])(),Object(r["f"])("div",u,[Object(r["i"])("button",{onClick:e[1]||(e[1]=function(e){return t.setDuration(5)})},"Set Duration"),Object(r["i"])("button",{onClick:e[2]||(e[2]=function(e){return t.setScore(1)})},"1"),Object(r["i"])("button",{onClick:e[3]||(e[3]=function(e){return t.setScore(0)})},"0"),Object(r["i"])("div",d,[Object(r["i"])(c)])])})),f=(n("96cf"),n("1da1")),h=n("5530"),m=n("bc3a"),p=n.n(m);p.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var g={timeout:3e4},v=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(e){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url,r=e.config,i=void 0===r?g:r,console.log("url",n),console.log("config",i),t.prev=3,t.next=6,p.a.get(n,i);case 6:return a=t.sent,t.abrupt("return",{data:a.data});case 10:return t.prev=10,t.t0=t["catch"](3),t.abrupt("return",{error:t.t0.response.data});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}(),b="/api/match",O={fetch:function(t){return v({url:"".concat(b,"/").concat(t)})}},j={dnd:{timeouts:{throttle:33}},game:{timeouts:{enter:1e3,leave:1e3}},tile:{timeouts:{enter:800,hit:800,leave:0,miss:800,shuffle:500}},timer:{debug:!0,thresholds:{warn:40,alert:20},timeouts:{interval:100,change:250,enter:1e3,leave:1e3}}},y=Object(r["w"])({canDnD:!1,colorScheme:null,correct:0,definitions:[],duration:60,gameId:null,incorrect:0,itemsPerBoard:9,matches:[],playing:!1,score:0,stats:[],terms:[],title:null}),M=j,w=function(){return y.canDnD},x=function(){return y.colorScheme},I=function(){return y.correct},D=function(){return y.definitions},T=function(){return y.duration},_=function(){return y.gameId},S=function(){return y.incorrect},P=function(){return y.itemsPerBoard},C=function(){return y.matches},B=function(){return y.playing},L=function(){return y.score},A=function(){return y.stats},E=function(){return y.terms},k=function(){return y.title},R=function(t){return y.canDnD=t},X=function(t){return y.colorScheme=t},Y=function(t){return y.correct=t},N=function(t){return y.definitions=t},G=function(t){return y.duration=t},q=function(t){return y.gameId=t},J=function(t){return y.incorrect=t},$=function(t){return y.itemsPerBoard=t},z=function(t){return y.matches=t},F=function(t){return y.playing=t},H=function(t){return y.score=t},Z=function(t){return y.stats=t},U=function(t){return y.terms=t},W=function(t){return y.title=t},K={canDnD:w,colorScheme:x,correct:I,definitions:D,duration:T,gameId:_,incorrect:S,itemsPerBoard:P,matches:C,playing:B,score:L,stats:A,terms:E,title:k},Q={setCanDnD:R,setColorScheme:X,setCorrect:Y,setDefinitions:N,setDuration:G,setGameId:q,setIncorrect:J,setItemsPerBoard:$,setMatches:z,setPlaying:F,setScore:H,setStats:Z,setTerms:U,setTitle:W},V=(n("7db0"),n("d81d"),n("fb6a"),n("2909")),tt=n("15fd"),et=n("8dee"),nt=n.n(et);n("99af"),n("a434");function rt(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return Object.prototype.hasOwnProperty.call(e,n)?t.map((function(t){return t[n]!==e[n]?t:Object(h["a"])(Object(h["a"])({},t),e)})):t}function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(!Object.prototype.hasOwnProperty.call(e,n))return t;var i=t.find((function(t){return t[n]===e[n]})),a=r?r(i):e;return i?t.map((function(t){return t[n]!==a[n]?t:Object(h["a"])(Object(h["a"])({},t),a)})):t.concat(a)}var ot=function(t,e,n){return{transform:"translate3d("+t+"px, "+e+"px, "+n+"px)"}},ct=function(t,e,n,r,i,a,o){return{"--hit-start-tx":t+"px","--hit-start-ty":e+"px","--hit-start-tz":n+"px","--hit-end-tx":r+"px","--hit-end-ty":i+"px","--hit-end-tz":a+"px","--hit-duration":o+"ms"}},st=function(t,e,n){return Object(h["a"])({},ot(t,e,n))},ut=function(t){console.log("loading data...");var e=t.matchId,n=t.matches,r=void 0===n?[]:n,i=t.options;i=void 0===i?{}:i;var a=i.duration,o=void 0===a?60:a,c=i.colorScheme,s=void 0===c?"":c,u=i.itemsPerBoard,d=void 0===u?9:u,l=t.title,f=void 0===l?"":l;y.colorScheme=s,y.duration=o,y.gameId=e,y.itemsPerBoard=d,y.matches=r,y.title=f},dt=function(){console.log("dealing...");var t=rt(y.matches),e=t.slice(0,Math.min(y.itemsPerBoard,t.length)),n=e.map((function(t){return Object(h["a"])(Object(h["a"])({},t),{},{matched:!1,show:!0})})),r=rt(n.map((function(t){var e=t.term,n=t.definition,r=Object(tt["a"])(t,["term","definition"]);return Object(h["a"])(Object(h["a"])({},r),{},{content:e,answer:n,id:nt.a.generate()})}))),i=Object(V["a"])(n);i=i.map((function(t){t.term;var e=t.definition,n=Object(tt["a"])(t,["term","definition"]);return Object(h["a"])(Object(h["a"])({},n),{},{content:e,id:nt.a.generate()})})),y.terms=r,y.definitions=i},lt=function(){console.log("shuffling..."),y.terms=rt(y.terms),y.definitions=rt(y.definitions)},ft=function(t,e){var n=y.terms.find((function(e){return e.id===t}))||{},r=n.answer,i=y.definitions.find((function(t){return t.id===e}))||{},a=i.content;return!!r&&!!a&&r===a},ht=function(t){var e=t||{},n=e.dragId,r=e.dragX,i=e.dragY,a=e.dropId,o=e.dropX,c=e.dropY,s=!!a&&ft(n,a);if(y.terms=it(y.terms,{id:n,matched:s,className:s?"hit":"miss",style:s?ct(r,i,1,o,c,1,M.tile.hitMs):st(0,0,0)}),a){y.definitions=it(y.definitions,Object(h["a"])({id:a,className:s?"hit":""},s&&{matched:!0}));var u=y.terms.find((function(t){return t.id===n}))||{},d=u.content;y.score=Math.max(s?y.score+1:y.score-1,0),y.stats=at(y.stats,{term:d},"term",(function(t){return t?{term:d,hit:s?t.hit+1:t.hit,miss:s?t.miss:t.miss+1}:{term:d,hit:s?1:0,miss:s?0:1}}))}},mt={deal:dt,drop:ht,isMatch:ft,shuffle:lt,load:ut},pt=Object(r["J"])("data-v-57139a46");Object(r["v"])("data-v-57139a46");var gt={class:"timer"},vt={class:"timer__wrapper"},bt={class:"timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},Ot={class:"timer__circle"};Object(r["t"])();var jt=pt((function(t,e,n,i,a,o){return Object(r["I"])((Object(r["s"])(),Object(r["f"])(r["b"],{duration:{enter:"".concat(o.timeouts.enter),leave:"".concat(o.timeouts.leave)},"enter-active-class":"fade-in-active","enter-class":"fade-in-start","enter-to-class":"fade-in-end","leave-active-class":"fade-out-active","leave-class":"fade-out-start","leave-to-class":"fade-out-end",onAfterEnter:o.onEntered,onAfterLeave:o.onLeft},{default:pt((function(){return[Object(r["I"])(Object(r["i"])("div",gt,[Object(r["i"])(r["b"],{appear:"",duration:{enter:"".concat(o.timeouts.change),leave:"".concat(o.timeouts.change)},"leave-active-class":"scoring-active","leave-to-class":"scoring-end",onAfterLeave:o.endScoreChange},{default:pt((function(){return[Object(r["I"])(Object(r["i"])("div",vt,[(Object(r["s"])(),Object(r["f"])("svg",bt,[Object(r["i"])("g",Ot,[Object(r["i"])("circle",{class:["timer__path-elapsed",a.scoreClass],cx:"50",cy:"50",r:"45"},null,2),Object(r["i"])("path",{"stroke-dasharray":o.strokeDasharray,class:["timer__path-remaining",[o.severity,a.scoreClass]],d:"M 50, 50\n            m -45, 0\n            a 45,45 0 1,0 90,0\n            a 45,45 0 1,0 -90,0\n          "},null,10,["stroke-dasharray"])])])),Object(r["i"])("span",{class:["timer__label",a.scoreClass]},Object(r["D"])(t.score||o.formatted),3)],512),[[r["G"],!a.scoring]])]})),_:1},8,["duration","onAfterLeave"])],512),[[r["G"],t.playing]])]})),_:1},8,["duration","onAfterEnter","onAfterLeave"])),[[r["G"],!o.expired]])})),yt=(n("b0c0"),n("b680"),283),Mt={ALERT:"alert",WARN:"warn",SUCCESS:"success"},wt={name:"Timer",data:function(){return{elapsed:0,intervalId:null,scoreClass:"",scoring:!1}},computed:Object(h["a"])(Object(h["a"])({debug:function(){return M.timer.debug},thresholds:function(){return M.timer.thresholds},timeouts:function(){return M.timer.timeouts}},{duration:K.duration,playing:K.playing,score:K.score}),{},{expired:function(){return this.remaining<=0},formatted:function(){var t=Math.floor(this.remaining/6e4),e=Math.floor(this.remaining%6e4/1e3);return e<10?"".concat(t,":0").concat(e):"".concat(t,":").concat(e)},progress:function(){return Math.round(this.remaining/(1e3*this.duration)*1e4)/100},remaining:function(){return 1e3*this.duration-this.elapsed},severity:function(){return this.progress<=this.thresholds.warn?this.progress<=this.thresholds.alert?Mt.ALERT:Mt.WARN:Mt.SUCCESS},strokeDasharray:function(){var t=this.progress/100-1/this.duration*(1-this.progress/100);return"".concat((t*yt).toFixed(0)," ").concat(yt)}}),methods:{onEntered:function(){this.debug&&console.log("timer entered..."),this.startTimer()},onLeft:function(){this.debug&&console.log("timer left...")},startTimer:function(){var t=this;this.elapsed=0,this.intervalId=setInterval((function(){return t.elapsed+=t.timeouts.interval}),this.timeouts.interval)},endTimer:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},endScoreChange:function(){this.debug&&console.log("timer scoring end..."),this.scoring=!1,this.scoreClass=""}},watch:{score:function(t,e){this.debug&&console.log("timer scoring:",e,"--\x3e",t),this.scoring=!0,this.scoreClass=t>e?"hit":"miss"},expired:function(t,e){!e&&t&&(this.endTimer(),this.$emit("timer-expired"))}},mounted:function(){this.debug&&console.log(this.$options.name,"mounted...")},unmounted:function(){this.debug&&console.log("clearing timer..."),this.endTimer()}};n("cfab");wt.render=jt,wt.__scopeId="data-v-57139a46";var xt=wt,It={name:"Match",components:{Timer:xt},data:function(){return{globalState:y}},computed:Object(h["a"])(Object(h["a"])({},K),{},{matchId:function(){return this.$route.params.id}}),methods:Object(h["a"])(Object(h["a"])({},Q),mt),created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.matchId),e.next=3,O.fetch(t.matchId);case 3:n=e.sent,t.load(n.data),t.deal(),setTimeout((function(){t.shuffle(),t.setCanDnD(!0),t.setPlaying(!0)}),1e3);case 7:case"end":return e.stop()}}),e)})))()}};n("0678");It.render=l,It.__scopeId="data-v-590807fc";var Dt=It,Tt=Object(r["J"])("data-v-55a1f694");Object(r["v"])("data-v-55a1f694");var _t={class:"full-page full-page--match"};Object(r["t"])();var St=Tt((function(t,e,n,i,a,o){var c=Object(r["A"])("MatchGame");return Object(r["s"])(),Object(r["f"])("div",_t,[a.showBoard?(Object(r["s"])(),Object(r["f"])(c,{key:0,"color-scheme":a.colorScheme,duration:a.duration,"items-per-board":a.itemsPerBoard,matches:a.matches,config:o.config,onGameOver:o.onGameOver},null,8,["color-scheme","duration","items-per-board","matches","config","onGameOver"])):Object(r["g"])("",!0)])})),Pt=Object(r["J"])("data-v-6777675e");Object(r["v"])("data-v-6777675e");var Ct={id:"match-game"},Bt={id:"match-timer"};Object(r["t"])();var Lt=Pt((function(t,e,n,i,a,o){var c=Object(r["A"])("MatchTimer"),s=Object(r["A"])("MatchTileBoard"),u=Object(r["A"])("DnD");return Object(r["s"])(),Object(r["f"])(r["b"],{appear:"",css:!0,duration:{enter:"".concat(n.config.game.enterMs),leave:"".concat(n.config.game.leaveMs)},"enter-active-class":"fade-in-active","enter-class":"fade-in-start","enter-to-class":"fade-in-end","leave-active-class":"fade-out-active","leave-class":"fade-out-start","leave-to-class":"fade-out-end",onAfterEnter:o.onEntered,onAfterLeave:o.onLeft},{default:Pt((function(){return[Object(r["i"])("div",Ct,[Object(r["i"])("div",Bt,[Object(r["i"])(c,{"change-ms":n.config.timer.changeMs,duration:n.duration,"enter-ms":n.config.timer.enterMs,"interval-ms":n.config.timer.intervalMs,"leave-ms":n.config.timer.leaveMs,playing:a.playing,score:a.score,onTimerExpired:o.onTimerExpired},null,8,["change-ms","duration","enter-ms","interval-ms","leave-ms","playing","score","onTimerExpired"])]),Object(r["i"])(u,{id:"match-dnd-board",disabled:o.inTransition,playing:a.playing,"throttle-ms":n.config.dnd.throttleMs,onDrag:o.onDrag,onOver:o.onOver,onDrop:o.onDrop},{default:Pt((function(){return[Object(r["i"])(s,{componentName:"Draggable",id:"terms","tile-type":"term",disabled:o.inTransition,"enter-ms":n.config.tile.enterMs,"leave-ms":n.config.tile.leaveMs,playing:a.playing,tiles:a.terms,"tile-count":n.itemsPerBoard},null,8,["disabled","enter-ms","leave-ms","playing","tiles","tile-count"]),Object(r["i"])(s,{componentName:"Droppable",id:"definitions","tile-type":"definition",disabled:o.inTransition,"enter-ms":n.config.tile.enterMs,"leave-ms":n.config.tile.leaveMs,playing:a.playing,tiles:a.definitions,"tile-count":n.itemsPerBoard},null,8,["disabled","enter-ms","leave-ms","playing","tiles","tile-count"])]})),_:1},8,["disabled","playing","throttle-ms","onDrag","onOver","onDrop"])])]})),_:1},8,["duration","onAfterEnter","onAfterLeave"])}));n("a9e3");function At(t,e){var n=["red","orange","yellow","lime","green","cyan","blue","purple","magenta","navy","gray","teal"];switch(e.toLowerCase()){case"rainbow":return t.map((function(t){var e=Math.floor(Math.random()*n.length),r=n[e];return n.splice(e,1),Object(h["a"])(Object(h["a"])({},t),{},{color:r})}));default:return t.map((function(t){return Object(h["a"])(Object(h["a"])({},t),{},{color:""})}))}}function Et(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}function kt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return Object.prototype.hasOwnProperty.call(e,n)?t.map((function(t){return t[n]!==e[n]?t:Object(h["a"])(Object(h["a"])({},t),e)})):t}function Rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(!Object.prototype.hasOwnProperty.call(e,n))return t;var i=t.find((function(t){return t[n]===e[n]})),a=r?r(i):e;return i?t.map((function(t){return t[n]!==a[n]?t:Object(h["a"])(Object(h["a"])({},t),a)})):t.concat(a)}var Xt=Object(r["J"])("data-v-22ef2717"),Yt=Xt((function(t,e,n,i,a,o){return Object(r["s"])(),Object(r["f"])("div",Object(r["n"])({id:n.id,class:[o.classes]},Object(r["E"])(o.listeners)),[Object(r["z"])(t.$slots,"default")],16,["id"])})),Nt=n("2ef0"),Gt=n.n(Nt),qt={name:"DnD",props:{disabled:{type:Boolean,required:!1,default:!1},id:{type:String,required:!1},playing:{type:Boolean,required:!0,default:!1},throttleMs:{type:Number,required:!0,default:33.333}},data:function(){return{dragged:{active:!1}}},computed:{canDrag:function(){return this.playing&&!this.disabled},classes:function(){return{board:!0}},dragging:function(){var t=this.dragged.active,e=void 0!==t&&t;return e},listeners:function(){var t=this;return this.playing?{mousedown:function(e){return t.dragStart(e)},touchstart:function(e){return t.dragStart(e)},mouseup:function(e){return t.dragEnd(e)},touchend:function(e){return t.dragEnd(e)},mousemove:function(e){return t.throttledDrag(e)},touchmove:function(e){return t.throttledDrag(e)}}:{}},throttledDrag:function(){return Gt.a.throttle(this.drag,this.throttleMs,{trailing:!0})}},methods:{dragStart:function(t){if(t.preventDefault(),this.canDrag){var e=t.target.classList.contains("draggable")?t.target:t.target.closest(".draggable");if(e){var n="touchstart"===t.type?t.touches[0].clientX:t.clientX,r="touchstart"===t.type?t.touches[0].clientY:t.clientY,i=e.getBoundingClientRect(),a=i.top,o=i.left;this.dragged={active:!0,dragId:e.id,offsetX:n-o,offsetY:r-a,initialX:n,initialY:r}}}},drag:function(t){if(t.preventDefault(),this.canDrag&&this.dragging){var e=this.dragged,n=e.dragId,r=e.initialX,i=e.initialY,a=e.overId,o="touchmove"===t.type?t.touches[0].clientX-r:t.clientX-r,c="touchmove"===t.type?t.touches[0].clientY-i:t.clientY-i;this.$emit("drag",{dragId:n,dragX:o,dragY:c});var s=document.elementsFromPoint("touchmove"===t.type?t.touches[0].clientX:t.clientX,"touchmove"===t.type?t.touches[0].clientY:t.clientY).find((function(t){return t.classList.contains("droppable")}))||{},u=s.id,d=void 0===u?"":u;a!==d&&(this.$emit("over",{dropId:d}),this.dragged=Object(h["a"])(Object(h["a"])({},this.dragged),{},{overId:d}))}},dragEnd:function(t){if(t.preventDefault(),this.throttledDrag.cancel(),this.canDrag&&this.dragging){var e=this.dragged,n=e.dragId,r=e.initialX,i=e.initialY,a=e.offsetX,o=e.offsetY,c="touchend"===t.type?t.changedTouches[0].clientX:t.clientX,s="touchend"===t.type?t.changedTouches[0].clientY:t.clientY,u=document.elementsFromPoint(c,s).find((function(t){return t.classList.contains("droppable")})),d=u&&u.getBoundingClientRect()||{},l=d.top,f=d.left;this.$emit("drop",{dragId:n,dragX:u?c-r:c,dragY:u?s-i:s,dropId:u?u.id:null,dropX:u?Math.round(f-r+a):null,dropY:u?Math.round(l-i+o):null}),this.dragged={active:!1}}}},mounted:function(){console.log(this.$options.name,"mounted...")}};n("5ccd");qt.render=Yt,qt.__scopeId="data-v-22ef2717";var Jt=qt,$t=Object(r["J"])("data-v-4ef3aa98"),zt=$t((function(t,e,n,i,a,o){return Object(r["s"])(),Object(r["f"])(r["c"],{appear:"",tag:"div",id:n.id,class:[o.classes],duration:{enter:"".concat(n.enterMs),leave:"".concat(n.leaveMs)},css:!0,"enter-class":"fade-in-start","enter-active-class":"fade-in-active","enter-to-class":"fade-in-end","move-class":o.transitionGroup,onAfterEnter:o.onEntered,onLeave:o.onLeft},{default:$t((function(){return[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(o.filteredTiles,(function(t){return Object(r["s"])(),Object(r["f"])(Object(r["B"])(n.componentName),{key:t.id,content:t.content,disabled:n.disabled,id:t.id,style:[t.style],class:[o.tileClasses,n.tileType,t.className]},null,8,["content","disabled","id","style","class"])})),128))]})),_:1},8,["id","class","duration","move-class","onAfterEnter","onLeave"])})),Ft=(n("4de4"),n("ade3")),Ht=Object(r["J"])("data-v-0e4639df"),Zt=Ht((function(t,e,n,i,a,o){return Object(r["s"])(),Object(r["f"])("div",{id:n.id,innerHTML:n.content},null,8,["id","innerHTML"])})),Ut={name:"Draggable",props:["content","id"]};n("f999");Ut.render=Zt,Ut.__scopeId="data-v-0e4639df";var Wt=Ut,Kt=Object(r["J"])("data-v-14ad459b"),Qt=Kt((function(t,e,n,i,a,o){return Object(r["s"])(),Object(r["f"])("div",{id:n.id,innerHTML:n.content},null,8,["id","innerHTML"])})),Vt={name:"Droppable",props:["content","disabled","id"]};n("3886");Vt.render=Qt,Vt.__scopeId="data-v-14ad459b";var te=Vt,ee={name:"MatchTileBoard",components:{Draggable:Wt,Droppable:te},props:["componentName","disabled","duration","enterMs","id","leaveMs","playing","tiles","tileType","tileCount"],computed:{transitionGroup:function(){return this.disabled?"slide":"no-move-list"},classes:function(){return Object(Ft["a"])({"tile-board":!0,"tile-board--match":!0,"tile-board--disabled":!this.playing},"tiles-".concat(this.tileCount),this.tileCount)},filteredTiles:function(){return this.tiles.filter((function(t){return t.show}))},tileClasses:function(){return{tile:!0,draggable:"Draggable"===this.componentName,droppable:"Droppable"===this.componentName,disabled:this.disabled}}},methods:{onEntered:function(){console.log("entered!")},onLeft:function(t){console.log("left!"),t.style.display="none"}}};n("2089");ee.render=zt,ee.__scopeId="data-v-4ef3aa98";var ne=ee,re=Object(r["J"])("data-v-74f05a30");Object(r["v"])("data-v-74f05a30");var ie={class:"timer__wrapper"},ae={class:"timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"},oe={class:"timer__circle"};Object(r["t"])();var ce=re((function(t,e,n,i,a,o){return Object(r["s"])(),Object(r["f"])(r["b"],{duration:{enter:"".concat(n.enterMs),leave:"".concat(n.leaveMs)},"enter-active-class":"fade-in-active","enter-class":"fade-in-start","enter-to-class":"fade-in-end","leave-active-class":"fade-out-active","leave-class":"fade-out-start","leave-to-class":"fade-out-end",css:!0,onAfterEnter:o.onEntered,onAfterLeave:o.onLeft},{default:re((function(){return[Object(r["I"])(Object(r["i"])("div",{class:"timer",id:n.id},[Object(r["i"])(r["b"],{appear:"",css:!0,duration:{enter:"".concat(n.changeMs),leave:"".concat(n.changeMs)},"leave-active-class":"score-out-active","leave-class":"score-out-start","leave-to-class":"score-out-end",onAfterLeave:o.endScoreChange},{default:re((function(){return[Object(r["I"])(Object(r["i"])("div",ie,[(Object(r["s"])(),Object(r["f"])("svg",ae,[Object(r["i"])("g",oe,[Object(r["i"])("circle",{class:["timer__path-elapsed",a.hitMiss],cx:"50",cy:"50",r:"45"},null,2),Object(r["i"])("path",{"stroke-dasharray":o.circleDasharray,class:["timer__path-remaining",[o.severity,a.hitMiss]],d:"M 50, 50\n            m -45, 0\n            a 45,45 0 1,0 90,0\n            a 45,45 0 1,0 -90,0\n          "},null,10,["stroke-dasharray"])])])),Object(r["i"])("span",{class:["timer__label",a.hitMiss]},Object(r["D"])(n.score||o.formattedTimeLeft),3)],512),[[r["G"],!a.scoreChanging]])]})),_:1},8,["duration","onAfterLeave"])],8,["id"]),[[r["G"],n.playing]])]})),_:1},8,["duration","onAfterEnter","onAfterLeave"])})),se=283,ue=40,de=20,le={name:"MatchTimer",props:["active","changeMs","duration","enterMs","id","intervalMs","leaveMs","playing","score"],data:function(){return{elapsed:0,hitMiss:null,intervalId:null,scoreChanging:!1}},computed:{circleDasharray:function(){var t=this.progressPct/100-1/this.duration*(1-this.progressPct/100);return"".concat((t*se).toFixed(0)," 283")},expired:function(){return this.remaining<=0},formattedTimeLeft:function(){var t=Math.floor(this.remaining/6e4),e=Math.floor(this.remaining%6e4/1e3);return e<10&&(e="0".concat(e)),"".concat(t,":").concat(e)},progressPct:function(){return Math.round(this.remaining/(1e3*this.duration)*1e4)/100},remaining:function(){return 1e3*this.duration-this.elapsed},severity:function(){return this.progressPct<=ue?this.progressPct<=de?"alert":"warn":"success"}},methods:{onEntered:function(t){console.log("timer entered..."),this.startTimer()},onLeft:function(t){console.log("timer left..."),this.elapsed=0},startTimer:function(){var t=this;this.elapsed=0,this.intervalId=setInterval((function(){return t.elapsed+=t.intervalMs}),this.intervalMs)},endTimer:function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},endScoreChange:function(t){console.log("score changed ending..."),this.scoreChanging=!1,this.hitMiss=null}},watch:{score:function(t,e){console.log("score changed!"),this.scoreChanging=!0,this.hitMiss=t>e?"hit":"miss"},expired:function(t,e){!e&&t&&(this.endTimer(),this.$emit("timer-expired"))}},mounted:function(){console.log(this.$options.name,"mounted...")},unmounted:function(){this.endTimer()}};n("a9ae");le.render=ce,le.__scopeId="data-v-74f05a30";var fe=le,he={name:"MatchGame",components:{DnD:Jt,MatchTileBoard:ne,MatchTimer:fe},props:{colorScheme:{type:String,required:!1,default:"rainbow"},config:{type:Object,required:!0},duration:{type:Number,required:!0,default:60},itemsPerBoard:{type:Number,required:!0,default:9},matches:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{correct:0,definitions:[],incorrect:0,playing:!1,score:0,stats:[],terms:[],transitioning:!1}},computed:{inTransition:{get:function(){return this.transitioning},set:function(t){this.transitioning=t}},progress:function(){return this.correct/this.itemsPerBoard}},methods:{deal:function(){console.log("dealing...");var t=Et(this.matches),e=t.slice(0,Math.min(this.itemsPerBoard,t.length)),n=e.map((function(t){return Object(h["a"])(Object(h["a"])({},t),{},{matched:!1,show:!0})})),r=n.map((function(t){var e=t.term,n=t.definition,r=Object(tt["a"])(t,["term","definition"]);return Object(h["a"])(Object(h["a"])({},r),{},{content:e,answer:n,id:nt.a.generate()})}));r=At(r,this.colorScheme),this.terms=Et(r);var i=Object(V["a"])(n);i=i.map((function(t){t.term;var e=t.definition,n=Object(tt["a"])(t,["term","definition"]);return Object(h["a"])(Object(h["a"])({},n),{},{content:e,id:nt.a.generate()})})),this.definitions=Et(i)},hitStyle:function(t,e,n,r,i,a,o){return{"--hit-start-tx":t+"px","--hit-start-ty":e+"px","--hit-start-tz":n+"px","--hit-end-tx":r+"px","--hit-end-ty":i+"px","--hit-end-tz":a+"px","--hit-duration":o+"ms"}},isMatch:function(t,e){var n=function(t){return function(e){return e.id===t}},r=this.terms.find(n(t))||{},i=r.answer,a=this.definitions.find(n(e))||{},o=a.content;return!!i&&!!o&&i===o},missStyle:function(t,e,n){return Object(h["a"])({},this.translate(t,e,n))},moveStyle:function(t,e,n){return Object(h["a"])({},this.translate(t,e,n))},onDrag:function(t){var e=this,n=t.dragId,r=t.dragX,i=t.dragY;this.terms=this.terms.map((function(t){return t.style=t.id===n?e.moveStyle(r,i,1):t.style,t.className=t.id===n?"drag":t.className,t}))},onDrop:function(t){var e=this,n=t||{},r=n.dragId,i=n.dragX,a=n.dragY,o=n.dropId,c=n.dropX,s=n.dropY,u=!!o&&this.isMatch(r,o);if(this.terms=kt(this.terms,{id:r,matched:u,className:u?"hit":"miss",style:u?this.hitStyle(i,a,1,c,s,1,this.config.tile.hitMs):this.missStyle(0,0,0)}),o){this.definitions=kt(this.definitions,Object(h["a"])({id:o,className:u?"hit":""},u&&{matched:!0})),this.score=Math.max(u?this.score+1:this.score-1,0);var d=this.terms.find((function(t){return t.id===r}))||{},l=d.content;this.stats=Rt(this.stats,{term:l},"term",(function(t){return t?{term:l,hit:u?t.hit+1:t.hit,miss:u?t.miss:t.miss+1}:{term:l,hit:u?1:0,miss:u?0:1}})),u?(this.inTransition=!0,setTimeout((function(){e.terms=kt(e.terms,{id:r,show:!1}),e.definitions=kt(e.definitions,{id:o,show:!1}),e.correct++,e.inTransition=!1}),this.config.tile.hitMs)):this.incorrect++}},onEntered:function(){console.log("game entered..."),this.deal(),this.playing=!0},onLeft:function(){console.log("game left....")},onOver:function(t){var e=t.dropId;this.definitions=this.definitions.map((function(t){return t.className=t.id!==e||t.matched?"":"over",t}))},onTimerExpired:function(){var t=this;console.log("timer expired..."),this.playing=!1,setTimeout((function(){t.$emit("game-over",{correct:t.correct,incorrect:t.incorrect,data:t.stats,score:t.score})}),2e3)},translate:function(t,e,n){return{transform:"translate3d("+t+"px, "+e+"px, "+n+"px)"}}},watch:{progress:function(t,e){var n=this;e&&Math.floor(t)!==Math.floor(e)?(console.log("new round...",e,"vs",t),this.deal(),this.playing=!0):(console.log("shuffling..."),this.inTransition=!0,this.terms=Et(this.terms),this.definitions=Et(this.definitions),setTimeout((function(){n.inTransition=!1}),this.config.tile.shuffleMs))}}};n("d3a0");he.render=Lt,he.__scopeId="data-v-6777675e";var me=he;p.a.defaults.headers.get["Content-Type"]="application/json",p.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var pe={dnd:{throttleMs:33.33},game:{enterMs:1e3,leaveMs:1e3},tile:{enterMs:800,hitMs:800,leaveMs:0,missMs:800},timer:{intervalMs:100,changeMs:250,enterMs:1e3,leaveMs:1e3}},ge={name:"Match",components:{MatchGame:me},data:function(){return{colorScheme:"",correct:0,definitions:[],duration:60,gameId:null,itemsPerBoard:0,matches:[],showBoard:!1,showSplash:!0,title:""}},computed:{config:function(){return pe},game:{get:function(){return{colorScheme:this.colorScheme,duration:this.duration,gameId:this.gameId,itemsPerBoard:this.itemsPerBoard,matches:this.matches,title:this.title}},set:function(t){var e=t.matchId,n=t.matches,r=void 0===n?[]:n,i=t.options;i=void 0===i?{}:i;var a=i.duration,o=void 0===a?60:a,c=i.colorScheme,s=void 0===c?"":c,u=i.itemsPerBoard,d=void 0===u?9:u,l=t.title,f=void 0===l?"":l;this.colorScheme=s,this.duration=o,this.gameId=e,this.itemsPerBoard=d,this.matches=r,this.title=f}},matchId:function(){return this.$route.params.id}},methods:{fetchMatch:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/match/"+t.matchId,{timeout:1e4});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},postPing:function(t){return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/ping",t,{timeout:1e4});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onGameOver:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("on game over..."),e.showBoard=!1,n.next=4,e.postPing({gameId:e.matchId,gameType:"M",results:t});case 4:r=n.sent,console.log(JSON.stringify(r)),setTimeout((function(){e.showBoard=!0}),5e3);case 7:case"end":return n.stop()}}),n)})))()}},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchMatch();case 2:n=e.sent,t.game=n,t.showBoard=!0;case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){console.log(this.$options.name,"mounted...")}};n("5e4a");ge.render=St,ge.__scopeId="data-v-55a1f694";var ve=ge,be=Object(r["J"])("data-v-b788fbbe");Object(r["v"])("data-v-b788fbbe");var Oe={class:"p-4"};Object(r["t"])();var je=be((function(t,e,n,i,a,o){var c=Object(r["A"])("router-link");return Object(r["s"])(),Object(r["f"])("div",Oe,[Object(r["i"])("ul",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(a.games,(function(t){return Object(r["s"])(),Object(r["f"])("li",{key:t.id},[Object(r["i"])(c,{class:"game-link game-link--match",to:{name:"match",params:{id:t.id}}},{default:be((function(){return[Object(r["h"])(Object(r["D"])(t.title),1)]})),_:2},1032,["to"])])})),128))])])}));p.a.defaults.headers.get["Content-Type"]="application/json",p.a.defaults.headers.common["quizdini-timezone"]=Intl.DateTimeFormat().resolvedOptions().timeZone;var ye={name:"Matches",data:function(){return{games:[]}},methods:{fetchData:function(){return Object(f["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/api/matches/",{timeout:3e4});case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},created:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:n=e.sent,r=n.map((function(t){return{id:t.matchId,title:t.title}})),t.games=r;case 5:case"end":return e.stop()}}),e)})))()}};n("1c66");ye.render=je,ye.__scopeId="data-v-b788fbbe";var Me=ye,we=[{path:"/",name:"matches",component:Me,props:!1},{path:"/match/:id",name:"match",component:ve,props:!1},{path:"/newmatch/:id",name:"newmatch",component:Dt,props:!1}],xe=Object(c["a"])({history:Object(c["b"])(),routes:we}),Ie=xe;Object(r["e"])(o).use(Ie).mount("#quizdini")},"58e1":function(t,e,n){},"5ccd":function(t,e,n){"use strict";n("bb1b")},"5e4a":function(t,e,n){"use strict";n("58e1")},"70f3":function(t,e,n){},"9cdc":function(t,e,n){"use strict";n("c701")},a9ae:function(t,e,n){"use strict";n("e57b")},bb1b:function(t,e,n){},c701:function(t,e,n){},cfab:function(t,e,n){"use strict";n("398a")},d3a0:function(t,e,n){"use strict";n("0ec2")},e57b:function(t,e,n){},f999:function(t,e,n){"use strict";n("17c0")}});
//# sourceMappingURL=app-legacy.d0ac9d75.js.map